{% extends 'suppliers.html' %} {% block 'content' %}
<h1>{% if object %}Editar Fornecedor{% else %}Novo Fornecedor{% endif %}</h1>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>

<form method="post">
  {% csrf_token %} {{ form.as_p }}
  <button type="submit" class="btn btn-primary">
    {% if object %}Atualizar{% else %}Salvar{% endif %}
  </button>
</form>

<a href="{% url 'supplier-list' %}" class="btn btn-secondary">Voltar</a>

<script>
  $(document).ready(function () {
    // Máscara para Documento
    $("#documento").keyup(function () {
      var tamanho = $("#documento").val().length;

      if (tamanho <= 14) {
        $("#documento").mask("000.000.000-000");
      } else {
        $("#documento").mask("00.000.000/0000-00");
      }
    });

    // Máscara para Telefone (com ou sem DDD)
    $("#telefone").mask("(00) 00000-0000");
  });
</script>
{% endblock %}
